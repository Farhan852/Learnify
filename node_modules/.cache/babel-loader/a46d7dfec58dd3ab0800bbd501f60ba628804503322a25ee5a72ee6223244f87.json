{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Farhan/Desktop/WebDevelopment/Projects/Learnify/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Farhan/Desktop/WebDevelopment/Projects/Learnify/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RequirementsField(_ref){var name=_ref.name,label=_ref.label,register=_ref.register,setValue=_ref.setValue,errors=_ref.errors,getValues=_ref.getValues;var _useSelector=useSelector(function(state){return state.course;}),editCourse=_useSelector.editCourse,course=_useSelector.course;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),requirement=_useState2[0],setRequirement=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),requirementsList=_useState4[0],setRequirementsList=_useState4[1];useEffect(function(){if(editCourse){setRequirementsList(course===null||course===void 0?void 0:course.instructions);}register(name,{required:true,validate:function validate(value){return value.length>0;}});// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(function(){setValue(name,requirementsList);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[requirementsList]);var handleAddRequirement=function handleAddRequirement(){if(requirement){setRequirementsList([].concat(_toConsumableArray(requirementsList),[requirement]));setRequirement(\"\");}};var handleRemoveRequirement=function handleRemoveRequirement(index){var updatedRequirements=_toConsumableArray(requirementsList);updatedRequirements.splice(index,1);setRequirementsList(updatedRequirements);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"text-sm text-richblack-5\",htmlFor:name,children:[label,\" \",/*#__PURE__*/_jsx(\"sup\",{className:\"text-pink-200\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-start space-y-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:name,value:requirement,onChange:function onChange(e){return setRequirement(e.target.value);},className:\"form-style w-full\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleAddRequirement,className:\"font-semibold text-yellow-50\",children:\"Add\"})]}),requirementsList.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:\"mt-2 list-inside list-disc\",children:requirementsList.map(function(requirement,index){return/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center text-richblack-5\",children:[/*#__PURE__*/_jsx(\"span\",{children:requirement}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"ml-2 text-xs text-pure-greys-300 \",onClick:function onClick(){return handleRemoveRequirement(index);},children:\"clear\"})]},index);})}),errors[name]&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-xs tracking-wide text-pink-200\",children:[label,\" is required\"]})]});}","map":{"version":3,"names":["useEffect","useState","useSelector","jsx","_jsx","jsxs","_jsxs","RequirementsField","_ref","name","label","register","setValue","errors","getValues","_useSelector","state","course","editCourse","_useState","_useState2","_slicedToArray","requirement","setRequirement","_useState3","_useState4","requirementsList","setRequirementsList","instructions","required","validate","value","length","handleAddRequirement","concat","_toConsumableArray","handleRemoveRequirement","index","updatedRequirements","splice","className","children","htmlFor","type","id","onChange","e","target","onClick","map"],"sources":["C:/Users/Farhan/Desktop/WebDevelopment/Projects/Learnify/src/components/core/Dashboard/AddCourse/CourseInformation/RequirementField.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { useSelector } from \"react-redux\"\n\nexport default function RequirementsField({\n  name,\n  label,\n  register,\n  setValue,\n  errors,\n  getValues,\n}) {\n  const { editCourse, course } = useSelector((state) => state.course)\n  const [requirement, setRequirement] = useState(\"\")\n  const [requirementsList, setRequirementsList] = useState([])\n\n  useEffect(() => {\n    if (editCourse) {\n      setRequirementsList(course?.instructions)\n    }\n    register(name, { required: true, validate: (value) => value.length > 0 })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  useEffect(() => {\n    setValue(name, requirementsList)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [requirementsList])\n\n  const handleAddRequirement = () => {\n    if (requirement) {\n      setRequirementsList([...requirementsList, requirement])\n      setRequirement(\"\")\n    }\n  }\n\n  const handleRemoveRequirement = (index) => {\n    const updatedRequirements = [...requirementsList]\n    updatedRequirements.splice(index, 1)\n    setRequirementsList(updatedRequirements)\n  }\n\n  return (\n    <div className=\"flex flex-col space-y-2\">\n      <label className=\"text-sm text-richblack-5\" htmlFor={name}>\n        {label} <sup className=\"text-pink-200\">*</sup>\n      </label>\n      <div className=\"flex flex-col items-start space-y-2\">\n        <input\n          type=\"text\"\n          id={name}\n          value={requirement}\n          onChange={(e) => setRequirement(e.target.value)}\n          className=\"form-style w-full\"\n        />\n        <button\n          type=\"button\"\n          onClick={handleAddRequirement}\n          className=\"font-semibold text-yellow-50\"\n        >\n          Add\n        </button>\n      </div>\n      {requirementsList.length > 0 && (\n        <ul className=\"mt-2 list-inside list-disc\">\n          {requirementsList.map((requirement, index) => (\n            <li key={index} className=\"flex items-center text-richblack-5\">\n              <span>{requirement}</span>\n              <button\n                type=\"button\"\n                className=\"ml-2 text-xs text-pure-greys-300 \"\n                onClick={() => handleRemoveRequirement(index)}\n              >\n                clear\n              </button>\n            </li>\n          ))}\n        </ul>\n      )}\n      {errors[name] && (\n        <span className=\"ml-2 text-xs tracking-wide text-pink-200\">\n          {label} is required\n        </span>\n      )}\n    </div>\n  )\n}"],"mappings":"oSAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,WAAW,KAAQ,aAAa,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzC,cAAe,SAAS,CAAAC,iBAAiBA,CAAAC,IAAA,CAOtC,IAND,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CACJC,KAAK,CAAAF,IAAA,CAALE,KAAK,CACLC,QAAQ,CAAAH,IAAA,CAARG,QAAQ,CACRC,QAAQ,CAAAJ,IAAA,CAARI,QAAQ,CACRC,MAAM,CAAAL,IAAA,CAANK,MAAM,CACNC,SAAS,CAAAN,IAAA,CAATM,SAAS,CAET,IAAAC,YAAA,CAA+Bb,WAAW,CAAC,SAACc,KAAK,QAAK,CAAAA,KAAK,CAACC,MAAM,GAAC,CAA3DC,UAAU,CAAAH,YAAA,CAAVG,UAAU,CAAED,MAAM,CAAAF,YAAA,CAANE,MAAM,CAC1B,IAAAE,SAAA,CAAsClB,QAAQ,CAAC,EAAE,CAAC,CAAAmB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3CG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAClC,IAAAI,UAAA,CAAgDvB,QAAQ,CAAC,EAAE,CAAC,CAAAwB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArDE,gBAAgB,CAAAD,UAAA,IAAEE,mBAAmB,CAAAF,UAAA,IAE5CzB,SAAS,CAAC,UAAM,CACd,GAAIkB,UAAU,CAAE,CACdS,mBAAmB,CAACV,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEW,YAAY,CAAC,CAC3C,CACAjB,QAAQ,CAACF,IAAI,CAAE,CAAEoB,QAAQ,CAAE,IAAI,CAAEC,QAAQ,CAAE,SAAAA,SAACC,KAAK,QAAK,CAAAA,KAAK,CAACC,MAAM,CAAG,CAAC,EAAC,CAAC,CAAC,CACzE;AACF,CAAC,CAAE,EAAE,CAAC,CAENhC,SAAS,CAAC,UAAM,CACdY,QAAQ,CAACH,IAAI,CAAEiB,gBAAgB,CAAC,CAChC;AACF,CAAC,CAAE,CAACA,gBAAgB,CAAC,CAAC,CAEtB,GAAM,CAAAO,oBAAoB,CAAG,QAAvB,CAAAA,oBAAoBA,CAAA,CAAS,CACjC,GAAIX,WAAW,CAAE,CACfK,mBAAmB,IAAAO,MAAA,CAAAC,kBAAA,CAAKT,gBAAgB,GAAEJ,WAAW,GAAE,CACvDC,cAAc,CAAC,EAAE,CAAC,CACpB,CACF,CAAC,CAED,GAAM,CAAAa,uBAAuB,CAAG,QAA1B,CAAAA,uBAAuBA,CAAIC,KAAK,CAAK,CACzC,GAAM,CAAAC,mBAAmB,CAAAH,kBAAA,CAAOT,gBAAgB,CAAC,CACjDY,mBAAmB,CAACC,MAAM,CAACF,KAAK,CAAE,CAAC,CAAC,CACpCV,mBAAmB,CAACW,mBAAmB,CAAC,CAC1C,CAAC,CAED,mBACEhC,KAAA,QAAKkC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCnC,KAAA,UAAOkC,SAAS,CAAC,0BAA0B,CAACE,OAAO,CAAEjC,IAAK,CAAAgC,QAAA,EACvD/B,KAAK,CAAC,GAAC,cAAAN,IAAA,QAAKoC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,GAAC,EAAM,GACxC,cACRnC,KAAA,QAAKkC,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClDrC,IAAA,UACEuC,IAAI,CAAC,MAAM,CACXC,EAAE,CAAEnC,IAAK,CACTsB,KAAK,CAAET,WAAY,CACnBuB,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAAvB,cAAc,CAACuB,CAAC,CAACC,MAAM,CAAChB,KAAK,CAAC,EAAC,CAChDS,SAAS,CAAC,mBAAmB,EAC7B,cACFpC,IAAA,WACEuC,IAAI,CAAC,QAAQ,CACbK,OAAO,CAAEf,oBAAqB,CAC9BO,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CACzC,KAED,EAAS,GACL,CACLf,gBAAgB,CAACM,MAAM,CAAG,CAAC,eAC1B5B,IAAA,OAAIoC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CACvCf,gBAAgB,CAACuB,GAAG,CAAC,SAAC3B,WAAW,CAAEe,KAAK,qBACvC/B,KAAA,OAAgBkC,SAAS,CAAC,oCAAoC,CAAAC,QAAA,eAC5DrC,IAAA,SAAAqC,QAAA,CAAOnB,WAAW,EAAQ,cAC1BlB,IAAA,WACEuC,IAAI,CAAC,QAAQ,CACbH,SAAS,CAAC,mCAAmC,CAC7CQ,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAZ,uBAAuB,CAACC,KAAK,CAAC,EAAC,CAAAI,QAAA,CAC/C,OAED,EAAS,GARFJ,KAAK,CAST,EACN,CAAC,EAEL,CACAxB,MAAM,CAACJ,IAAI,CAAC,eACXH,KAAA,SAAMkC,SAAS,CAAC,0CAA0C,CAAAC,QAAA,EACvD/B,KAAK,CAAC,cACT,GACD,GACG,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}