{"ast":null,"code":"import _objectSpread from\"C:/Users/Farhan/Desktop/WebDevelopment/Projects/Learnify/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Farhan/Desktop/WebDevelopment/Projects/Learnify/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Farhan/Desktop/WebDevelopment/Projects/Learnify/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useEffect}from\"react\";import{useForm}from\"react-hook-form\";import{RxCross2}from\"react-icons/rx\";import ReactStars from\"react-rating-stars-component\";import{useSelector}from\"react-redux\";import{createRating}from\"../../../services/operations/courseDetailsAPI\";import IconBtn from\"../../common/IconBtn\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CourseReviewModal(_ref){var setReviewModal=_ref.setReviewModal;var _useSelector=useSelector(function(state){return state.profile;}),user=_useSelector.user;var _useSelector2=useSelector(function(state){return state.auth;}),token=_useSelector2.token;var _useSelector3=useSelector(function(state){return state.viewCourse;}),courseEntireData=_useSelector3.courseEntireData;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,errors=_useForm.formState.errors;useEffect(function(){setValue(\"courseExperience\",\"\");setValue(\"courseRating\",0);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var ratingChanged=function ratingChanged(newRating){// console.log(newRating)\nsetValue(\"courseRating\",newRating);};var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return createRating({courseId:courseEntireData._id,rating:data.courseRating,review:data.courseExperience},token);case 2:setReviewModal(false);case 3:case\"end\":return _context.stop();}},_callee);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-[1000] !mt-0 grid h-screen w-screen place-items-center overflow-auto bg-white bg-opacity-10 backdrop-blur-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"my-10 w-11/12 max-w-[700px] rounded-lg border border-richblack-400 bg-richblack-800\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between rounded-t-lg bg-richblack-700 p-5\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-semibold text-richblack-5\",children:\"Add Review\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setReviewModal(false);},children:/*#__PURE__*/_jsx(RxCross2,{className:\"text-2xl text-richblack-5\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-x-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:user===null||user===void 0?void 0:user.image,alt:(user===null||user===void 0?void 0:user.firstName)+\"profile\",className:\"aspect-square w-[50px] rounded-full object-cover\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-richblack-5\",children:[user===null||user===void 0?void 0:user.firstName,\" \",user===null||user===void 0?void 0:user.lastName]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-richblack-5\",children:\"Posting Publicly\"})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"mt-6 flex flex-col items-center\",children:[/*#__PURE__*/_jsx(ReactStars,{count:5,onChange:ratingChanged,size:24,activeColor:\"#ffd700\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-11/12 flex-col space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"text-sm text-richblack-5\",htmlFor:\"courseExperience\",children:[\"Add Your Experience \",/*#__PURE__*/_jsx(\"sup\",{className:\"text-pink-200\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"textarea\",_objectSpread(_objectSpread({id:\"courseExperience\",placeholder:\"Add Your Experience\"},register(\"courseExperience\",{required:true})),{},{className:\"form-style resize-x-none min-h-[130px] w-full\"})),errors.courseExperience&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-xs tracking-wide text-pink-200\",children:\"Please Add Your Experience\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex w-11/12 justify-end gap-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setReviewModal(false);},className:\"flex cursor-pointer items-center gap-x-2 rounded-md bg-richblack-300 py-[8px] px-[20px] font-semibold text-richblack-900\",children:\"Cancel\"}),/*#__PURE__*/_jsx(IconBtn,{text:\"Save\"})]})]})]})]})});}","map":{"version":3,"names":["useEffect","useForm","RxCross2","ReactStars","useSelector","createRating","IconBtn","jsx","_jsx","jsxs","_jsxs","CourseReviewModal","_ref","setReviewModal","_useSelector","state","profile","user","_useSelector2","auth","token","_useSelector3","viewCourse","courseEntireData","_useForm","register","handleSubmit","setValue","errors","formState","ratingChanged","newRating","onSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","courseId","_id","rating","courseRating","review","courseExperience","stop","_x","apply","arguments","className","children","onClick","src","image","alt","firstName","lastName","count","onChange","size","activeColor","htmlFor","_objectSpread","id","placeholder","required","text"],"sources":["C:/Users/Farhan/Desktop/WebDevelopment/Projects/Learnify/src/components/core/ViewCourse/CourseReviewModal.jsx"],"sourcesContent":["import { useEffect } from \"react\"\nimport { useForm } from \"react-hook-form\"\nimport { RxCross2 } from \"react-icons/rx\"\nimport ReactStars from \"react-rating-stars-component\"\nimport { useSelector } from \"react-redux\"\n\nimport { createRating } from \"../../../services/operations/courseDetailsAPI\"\nimport IconBtn from \"../../common/IconBtn\"\n\nexport default function CourseReviewModal({ setReviewModal }) {\n  const { user } = useSelector((state) => state.profile)\n  const { token } = useSelector((state) => state.auth)\n  const { courseEntireData } = useSelector((state) => state.viewCourse)\n\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: { errors },\n  } = useForm()\n\n  useEffect(() => {\n    setValue(\"courseExperience\", \"\")\n    setValue(\"courseRating\", 0)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const ratingChanged = (newRating) => {\n    // console.log(newRating)\n    setValue(\"courseRating\", newRating)\n  }\n\n  const onSubmit = async (data) => {\n    await createRating(\n      {\n        courseId: courseEntireData._id,\n        rating: data.courseRating,\n        review: data.courseExperience,\n      },\n      token\n    )\n    setReviewModal(false)\n  }\n\n  return (\n    <div className=\"fixed inset-0 z-[1000] !mt-0 grid h-screen w-screen place-items-center overflow-auto bg-white bg-opacity-10 backdrop-blur-sm\">\n      <div className=\"my-10 w-11/12 max-w-[700px] rounded-lg border border-richblack-400 bg-richblack-800\">\n        {/* Modal Header */}\n        <div className=\"flex items-center justify-between rounded-t-lg bg-richblack-700 p-5\">\n          <p className=\"text-xl font-semibold text-richblack-5\">Add Review</p>\n          <button onClick={() => setReviewModal(false)}>\n            <RxCross2 className=\"text-2xl text-richblack-5\" />\n          </button>\n        </div>\n        {/* Modal Body */}\n        <div className=\"p-6\">\n          <div className=\"flex items-center justify-center gap-x-4\">\n            <img\n              src={user?.image}\n              alt={user?.firstName + \"profile\"}\n              className=\"aspect-square w-[50px] rounded-full object-cover\"\n            />\n            <div className=\"\">\n              <p className=\"font-semibold text-richblack-5\">\n                {user?.firstName} {user?.lastName}\n              </p>\n              <p className=\"text-sm text-richblack-5\">Posting Publicly</p>\n            </div>\n          </div>\n          <form\n            onSubmit={handleSubmit(onSubmit)}\n            className=\"mt-6 flex flex-col items-center\"\n          >\n            <ReactStars\n              count={5}\n              onChange={ratingChanged}\n              size={24}\n              activeColor=\"#ffd700\"\n            />\n            <div className=\"flex w-11/12 flex-col space-y-2\">\n              <label\n                className=\"text-sm text-richblack-5\"\n                htmlFor=\"courseExperience\"\n              >\n                Add Your Experience <sup className=\"text-pink-200\">*</sup>\n              </label>\n              <textarea\n                id=\"courseExperience\"\n                placeholder=\"Add Your Experience\"\n                {...register(\"courseExperience\", { required: true })}\n                className=\"form-style resize-x-none min-h-[130px] w-full\"\n              />\n              {errors.courseExperience && (\n                <span className=\"ml-2 text-xs tracking-wide text-pink-200\">\n                  Please Add Your Experience\n                </span>\n              )}\n            </div>\n            <div className=\"mt-6 flex w-11/12 justify-end gap-x-2\">\n              <button\n                onClick={() => setReviewModal(false)}\n                className={`flex cursor-pointer items-center gap-x-2 rounded-md bg-richblack-300 py-[8px] px-[20px] font-semibold text-richblack-900`}\n              >\n                Cancel\n              </button>\n              <IconBtn text=\"Save\" />\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}