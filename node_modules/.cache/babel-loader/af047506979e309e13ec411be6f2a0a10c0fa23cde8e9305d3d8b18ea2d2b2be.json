{"ast":null,"code":"import React from\"react\";import copy from\"copy-to-clipboard\";import{toast}from\"react-hot-toast\";import{BsFillCaretRightFill}from\"react-icons/bs\";import{FaShareSquare}from\"react-icons/fa\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{addToCart}from\"../../../slices/cartSlice\";import{ACCOUNT_TYPE}from\"../../../utils/constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CourseDetailsCard(_ref){var _course$instructions;var course=_ref.course,setConfirmationModal=_ref.setConfirmationModal,handleBuyCourse=_ref.handleBuyCourse;var _useSelector=useSelector(function(state){return state.profile;}),user=_useSelector.user;var _useSelector2=useSelector(function(state){return state.auth;}),token=_useSelector2.token;var navigate=useNavigate();var dispatch=useDispatch();var ThumbnailImage=course.thumbnail,CurrentPrice=course.price,courseId=course._id;var handleShare=function handleShare(){copy(window.location.href);toast.success(\"Link copied to clipboard\");};var handleAddToCart=function handleAddToCart(){if(user&&(user===null||user===void 0?void 0:user.accountType)===ACCOUNT_TYPE.INSTRUCTOR){toast.error(\"You are an Instructor. You can't buy a course.\");return;}if(token){dispatch(addToCart(course));return;}setConfirmationModal({text1:\"You are not logged in!\",text2:\"Please login to add To Cart\",btn1Text:\"Login\",btn2Text:\"Cancel\",btn1Handler:function btn1Handler(){return navigate(\"/login\");},btn2Handler:function btn2Handler(){return setConfirmationModal(null);}});};// console.log(\"Student already enrolled \", course?.studentsEnroled, user?._id)\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-4 rounded-md bg-richblack-700 p-4 text-richblack-5\",children:[/*#__PURE__*/_jsx(\"img\",{src:ThumbnailImage,alt:course===null||course===void 0?void 0:course.courseName,className:\"max-h-[300px] min-h-[180px] w-[400px] overflow-hidden rounded-2xl object-cover md:max-w-full\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-3 pb-4 text-3xl font-semibold\",children:[\"Rs. \",CurrentPrice]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"yellowButton\",onClick:user&&course!==null&&course!==void 0&&course.studentsEnrolled.includes(user===null||user===void 0?void 0:user._id)?function(){return navigate(\"/dashboard/enrolled-courses\");}:handleBuyCourse,children:user&&course!==null&&course!==void 0&&course.studentsEnrolled.includes(user===null||user===void 0?void 0:user._id)?\"Go To Course\":\"Buy Now\"}),(!user||!(course!==null&&course!==void 0&&course.studentsEnrolled.includes(user===null||user===void 0?void 0:user._id)))&&/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,className:\"blackButton\",children:\"Add to Cart\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"pb-3 pt-6 text-center text-sm text-richblack-25\",children:\"30-Day Money-Back Guarantee\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"my-2 text-xl font-semibold \",children:\"This Course Includes :\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col gap-3 text-sm text-caribbeangreen-100\",children:course===null||course===void 0?void 0:(_course$instructions=course.instructions)===null||_course$instructions===void 0?void 0:_course$instructions.map(function(item,i){return/*#__PURE__*/_jsxs(\"p\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(BsFillCaretRightFill,{}),/*#__PURE__*/_jsx(\"span\",{children:item})]},i);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"mx-auto flex items-center gap-2 py-6 text-yellow-100 \",onClick:handleShare,children:[/*#__PURE__*/_jsx(FaShareSquare,{size:15}),\" Share\"]})})]})]})});}export default CourseDetailsCard;","map":{"version":3,"names":["React","copy","toast","BsFillCaretRightFill","FaShareSquare","useDispatch","useSelector","useNavigate","addToCart","ACCOUNT_TYPE","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CourseDetailsCard","_ref","_course$instructions","course","setConfirmationModal","handleBuyCourse","_useSelector","state","profile","user","_useSelector2","auth","token","navigate","dispatch","ThumbnailImage","thumbnail","CurrentPrice","price","courseId","_id","handleShare","window","location","href","success","handleAddToCart","accountType","INSTRUCTOR","error","text1","text2","btn1Text","btn2Text","btn1Handler","btn2Handler","children","className","src","alt","courseName","onClick","studentsEnrolled","includes","instructions","map","item","i","size"],"sources":["C:/Users/Farhan/Desktop/WebDevelopment/Projects/Learnify/src/components/core/Course/CourseDetailsCard.js"],"sourcesContent":["import React from \"react\"\nimport copy from \"copy-to-clipboard\"\nimport { toast } from \"react-hot-toast\"\nimport { BsFillCaretRightFill } from \"react-icons/bs\"\nimport { FaShareSquare } from \"react-icons/fa\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useNavigate } from \"react-router-dom\"\n\nimport { addToCart } from \"../../../slices/cartSlice\"\nimport { ACCOUNT_TYPE } from \"../../../utils/constants\"\n\n\nfunction CourseDetailsCard({ course, setConfirmationModal, handleBuyCourse }) {\n  const { user } = useSelector((state) => state.profile)\n  const { token } = useSelector((state) => state.auth)\n  const navigate = useNavigate()\n  const dispatch = useDispatch()\n\n  const {\n    thumbnail: ThumbnailImage,\n    price: CurrentPrice,\n    _id: courseId,\n  } = course\n\n  const handleShare = () => {\n    copy(window.location.href)\n    toast.success(\"Link copied to clipboard\")\n  }\n\n  const handleAddToCart = () => {\n    if (user && user?.accountType === ACCOUNT_TYPE.INSTRUCTOR) {\n      toast.error(\"You are an Instructor. You can't buy a course.\")\n      return\n    }\n    if (token) {\n      dispatch(addToCart(course))\n      return\n    }\n    setConfirmationModal({\n      text1: \"You are not logged in!\",\n      text2: \"Please login to add To Cart\",\n      btn1Text: \"Login\",\n      btn2Text: \"Cancel\",\n      btn1Handler: () => navigate(\"/login\"),\n      btn2Handler: () => setConfirmationModal(null),\n    })\n  }\n\n  // console.log(\"Student already enrolled \", course?.studentsEnroled, user?._id)\n\n  return (\n    <>\n      <div\n        className={`flex flex-col gap-4 rounded-md bg-richblack-700 p-4 text-richblack-5`}\n      >\n        {/* Course Image */}\n        <img\n          src={ThumbnailImage}\n          alt={course?.courseName}\n          className=\"max-h-[300px] min-h-[180px] w-[400px] overflow-hidden rounded-2xl object-cover md:max-w-full\"\n        />\n\n        <div className=\"px-4\">\n          <div className=\"space-x-3 pb-4 text-3xl font-semibold\">\n            Rs. {CurrentPrice}\n          </div>\n          <div className=\"flex flex-col gap-4\">\n            <button\n              className=\"yellowButton\"\n              onClick={\n                user && course?.studentsEnrolled.includes(user?._id)\n                  ? () => navigate(\"/dashboard/enrolled-courses\")\n                  : handleBuyCourse\n              }\n            >\n              {user && course?.studentsEnrolled.includes(user?._id)\n                ? \"Go To Course\"\n                : \"Buy Now\"}\n            </button>\n            {(!user || !course?.studentsEnrolled.includes(user?._id)) && (\n              <button onClick={handleAddToCart} className=\"blackButton\">\n                Add to Cart\n              </button>\n            )}\n          </div>\n          <div>\n            <p className=\"pb-3 pt-6 text-center text-sm text-richblack-25\">\n              30-Day Money-Back Guarantee\n            </p>\n          </div>\n\n          <div className={``}>\n            <p className={`my-2 text-xl font-semibold `}>\n              This Course Includes :\n            </p>\n            <div className=\"flex flex-col gap-3 text-sm text-caribbeangreen-100\">\n              {course?.instructions?.map((item, i) => {\n                return (\n                  <p className={`flex gap-2`} key={i}>\n                    <BsFillCaretRightFill />\n                    <span>{item}</span>\n                  </p>\n                )\n              })}\n            </div>\n          </div>\n          <div className=\"text-center\">\n            <button\n              className=\"mx-auto flex items-center gap-2 py-6 text-yellow-100 \"\n              onClick={handleShare}\n            >\n              <FaShareSquare size={15} /> Share\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default CourseDetailsCard"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}